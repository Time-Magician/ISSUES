{"ast":null,"code":"import config from 'config';\nimport { postRequest } from \"../utils/ajax\";\nimport { history } from '../utils/history';\nimport { message } from 'antd';\nexport const login = data => {\n  const url = `${config.apiUrl}/login`;\n\n  const callback = data => {\n    if (data.status >= 0) {\n      localStorage.setItem('user', JSON.stringify(data.data));\n      history.push(\"/\");\n      message.success(data.msg);\n    } else {\n      message.error(data.msg);\n    }\n  };\n\n  postRequest(url, data, callback);\n};\nexport const logout = () => {\n  const url = `${config.apiUrl}/logout`;\n\n  const callback = data => {\n    if (data.status >= 0) {\n      localStorage.removeItem(\"user\");\n      history.push(\"/login\");\n      message.success(data.msg);\n    } else {\n      message.error(data.msg);\n    }\n  };\n\n  postRequest(url, {}, callback);\n};\nexport const checkSession = callback => {\n  const url = `${config.apiUrl}/checkSession`;\n  postRequest(url, {}, callback);\n};","map":{"version":3,"sources":["C:/Users/yy/Desktop/fronted/src/services/userService.js"],"names":["config","postRequest","history","message","login","data","url","apiUrl","callback","status","localStorage","setItem","JSON","stringify","push","success","msg","error","logout","removeItem","checkSession"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,QAAnB;AACA,SAAQC,WAAR,QAA0B,eAA1B;AACA,SAAQC,OAAR,QAAsB,kBAAtB;AACA,SAAQC,OAAR,QAAsB,MAAtB;AAIA,OAAO,MAAMC,KAAK,GAAIC,IAAD,IAAU;AAC3B,QAAMC,GAAG,GAAI,GAAEN,MAAM,CAACO,MAAO,QAA7B;;AACA,QAAMC,QAAQ,GAAIH,IAAD,IAAU;AACvB,QAAGA,IAAI,CAACI,MAAL,IAAe,CAAlB,EAAqB;AACjBC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeR,IAAI,CAACA,IAApB,CAA7B;AACAH,MAAAA,OAAO,CAACY,IAAR,CAAa,GAAb;AACAX,MAAAA,OAAO,CAACY,OAAR,CAAgBV,IAAI,CAACW,GAArB;AACH,KAJD,MAKI;AACAb,MAAAA,OAAO,CAACc,KAAR,CAAcZ,IAAI,CAACW,GAAnB;AACH;AACJ,GATD;;AAUAf,EAAAA,WAAW,CAACK,GAAD,EAAMD,IAAN,EAAYG,QAAZ,CAAX;AACH,CAbM;AAeP,OAAO,MAAMU,MAAM,GAAG,MAAM;AACxB,QAAMZ,GAAG,GAAI,GAAEN,MAAM,CAACO,MAAO,SAA7B;;AAEA,QAAMC,QAAQ,GAAIH,IAAD,IAAU;AACvB,QAAGA,IAAI,CAACI,MAAL,IAAe,CAAlB,EAAqB;AACjBC,MAAAA,YAAY,CAACS,UAAb,CAAwB,MAAxB;AACAjB,MAAAA,OAAO,CAACY,IAAR,CAAa,QAAb;AACAX,MAAAA,OAAO,CAACY,OAAR,CAAgBV,IAAI,CAACW,GAArB;AACH,KAJD,MAKI;AACAb,MAAAA,OAAO,CAACc,KAAR,CAAcZ,IAAI,CAACW,GAAnB;AACH;AACJ,GATD;;AAUAf,EAAAA,WAAW,CAACK,GAAD,EAAM,EAAN,EAAUE,QAAV,CAAX;AACH,CAdM;AAgBP,OAAO,MAAMY,YAAY,GAAIZ,QAAD,IAAc;AACtC,QAAMF,GAAG,GAAI,GAAEN,MAAM,CAACO,MAAO,eAA7B;AACAN,EAAAA,WAAW,CAACK,GAAD,EAAM,EAAN,EAAUE,QAAV,CAAX;AACH,CAHM","sourcesContent":["import config from 'config';\r\nimport {postRequest} from \"../utils/ajax\";\r\nimport {history} from '../utils/history';\r\nimport {message} from 'antd';\r\n\r\n\r\n\r\nexport const login = (data) => {\r\n    const url = `${config.apiUrl}/login`;\r\n    const callback = (data) => {\r\n        if(data.status >= 0) {\r\n            localStorage.setItem('user', JSON.stringify(data.data));\r\n            history.push(\"/\");\r\n            message.success(data.msg);\r\n        }\r\n        else{\r\n            message.error(data.msg);\r\n        }\r\n    };\r\n    postRequest(url, data, callback);\r\n};\r\n\r\nexport const logout = () => {\r\n    const url = `${config.apiUrl}/logout`;\r\n\r\n    const callback = (data) => {\r\n        if(data.status >= 0) {\r\n            localStorage.removeItem(\"user\");\r\n            history.push(\"/login\");\r\n            message.success(data.msg);\r\n        }\r\n        else{\r\n            message.error(data.msg);\r\n        }\r\n    };\r\n    postRequest(url, {}, callback);\r\n};\r\n\r\nexport const checkSession = (callback) => {\r\n    const url = `${config.apiUrl}/checkSession`;\r\n    postRequest(url, {}, callback);\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}