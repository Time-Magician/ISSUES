{"ast":null,"code":"import config from 'config';\nimport { postRequest, postRequest_v2 } from \"../utils/ajax\";\nimport { history } from '../utils/history';\nimport { message } from 'antd';\nexport const login = data => {\n  const url = \"http://localhost:9000/user-service/login\";\n  console.log(url);\n  const get = {\n    credentials: data.username,\n    client_id: \"issuesApp\",\n    client_secret: \"sjtu\",\n    password: data.password,\n    grant_type: \"password\"\n  };\n  let myHeaders = new Headers({\n    'Access-Control-Allow-Origin': '*',\n    'Content-Type': 'text/plain'\n  });\n  fetch(url, {\n    method: 'GET',\n    headers: myHeaders,\n    mode: 'cors'\n  }).then(res => res.json()).then(data => {\n    console.log(data); // eslint-disable-next-line\n\n    data.map(key => {\n      this.setState({\n        mytext: [...this.state.mytext, key]\n      });\n    });\n  });\n};","map":{"version":3,"sources":["C:/Users/yy/Desktop/fronted/src/services/userService.js"],"names":["config","postRequest","postRequest_v2","history","message","login","data","url","console","log","get","credentials","username","client_id","client_secret","password","grant_type","myHeaders","Headers","fetch","method","headers","mode","then","res","json","map","key","setState","mytext","state"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,QAAnB;AACA,SAAQC,WAAR,EAAqBC,cAArB,QAA0C,eAA1C;AACA,SAAQC,OAAR,QAAsB,kBAAtB;AACA,SAAQC,OAAR,QAAsB,MAAtB;AAEA,OAAO,MAAMC,KAAK,GAAIC,IAAD,IAAU;AAC3B,QAAMC,GAAG,GAAG,0CAAZ;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,QAAMG,GAAG,GAAG;AAACC,IAAAA,WAAW,EAAEL,IAAI,CAACM,QAAnB;AAA4BC,IAAAA,SAAS,EAAC,WAAtC;AAAkDC,IAAAA,aAAa,EAAC,MAAhE;AAAuEC,IAAAA,QAAQ,EAACT,IAAI,CAACS,QAArF;AAA8FC,IAAAA,UAAU,EAAC;AAAzG,GAAZ;AACA,MAAIC,SAAS,GAAG,IAAIC,OAAJ,CAAY;AACxB,mCAA+B,GADP;AAExB,oBAAgB;AAFQ,GAAZ,CAAhB;AAIAC,EAAAA,KAAK,CAACZ,GAAD,EAAK;AACNa,IAAAA,MAAM,EAAC,KADD;AAENC,IAAAA,OAAO,EAAEJ,SAFH;AAGNK,IAAAA,IAAI,EAAE;AAHA,GAAL,CAAL,CAIGC,IAJH,CAIQC,GAAG,IAAEA,GAAG,CAACC,IAAJ,EAJb,EAIyBF,IAJzB,CAKIjB,IAAI,IAAE;AACFE,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ,EADE,CAEF;;AACAA,IAAAA,IAAI,CAACoB,GAAL,CAAUC,GAAD,IAAO;AACZ,WAAKC,QAAL,CAAc;AACVC,QAAAA,MAAM,EAAE,CAAC,GAAG,KAAKC,KAAL,CAAWD,MAAf,EAAuBF,GAAvB;AADE,OAAd;AAGH,KAJD;AAKH,GAbL;AAiBH,CAzBM","sourcesContent":["import config from 'config';\r\nimport {postRequest, postRequest_v2} from \"../utils/ajax\";\r\nimport {history} from '../utils/history';\r\nimport {message} from 'antd';\r\n\r\nexport const login = (data) => {\r\n    const url = \"http://localhost:9000/user-service/login\";\r\n    console.log(url);\r\n    const get = {credentials: data.username,client_id:\"issuesApp\",client_secret:\"sjtu\",password:data.password,grant_type:\"password\"};\r\n    let myHeaders = new Headers({\r\n        'Access-Control-Allow-Origin': '*',\r\n        'Content-Type': 'text/plain'\r\n    });\r\n    fetch(url,{\r\n        method:'GET',\r\n        headers: myHeaders,\r\n        mode: 'cors',\r\n    }).then(res=>res.json()).then(\r\n        data=>{\r\n            console.log(data);\r\n            // eslint-disable-next-line\r\n            data.map((key)=>{\r\n                this.setState({\r\n                    mytext: [...this.state.mytext, key]\r\n                })\r\n            })\r\n        }\r\n    )\r\n\r\n\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}